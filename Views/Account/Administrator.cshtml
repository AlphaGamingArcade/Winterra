@using Winterra.Models.ViewModels

<div class="container_wr" id="main-content">
    <section>
        <div class="tbl_hd">
            <div class="rgt_cnt">
                @await Html.PartialAsync("_AccountFilterPartial", new AccountFilterModel
                {
                    Search = Model.Search,
                    SortBy = Model.SortBy,
                    PageNumber = Model.AdminAccountList.PageNumber,
                    PageSize = Model.AdminAccountList.PageSize,
                    FormController = "Account",
                    FormAction = "Administrator"
                })
            </div>
            
            <div class="lft_cnt">
                @await Html.PartialAsync("_AccountPageSizesPartial", new AccountPageSizesModel
                {
                    Search = Model.Search,
                    SortBy = Model.SortBy,
                    PageNumber = Model.AdminAccountList.PageNumber,
                    PageSize = Model.AdminAccountList.PageSize,
                    FormController = "Account",
                    FormAction = "Administrator"
                })
            </div>
        </div>

        @await Html.PartialAsync("_AccountTablePartial", new AccountTableModel
        {
            MenuIn = Model.MenuIn,
            Items = Model.AdminAccountList.Items
        })

        <ul class="pg_btn_list">
            @if(Model.AdminAccountList != null  && Model.AdminAccountList.Pages.Count > 0){
                <li class="pg_item">
                    <a class="pg_lnk @(Model.AdminAccountList.HasPreviousPage ? "" : "disabled")" 
                    asp-route-pageNumber="@(Model.AdminAccountList.PageNumber - 1)"
                    asp-route-pageSize="@Model.AdminAccountList.PageSize"
                    asp-route-search="@Model.Search">&laquo;</a>
                </li>
                @foreach (var pg in Model.AdminAccountList.Pages)
                {
                    <li class="pg_item">
                        <a class="pg_lnk @(Model.AdminAccountList.PageNumber == pg ? "active" : "")"
                        asp-route-pageNumber="@pg"
                        asp-route-pageSize="@Model.AdminAccountList.PageSize"
                        asp-route-search="@Model.Search">@pg</a>
                    </li>
                }
                <li class="pg_item">
                    <a class="pg_lnk @(Model.AdminAccountList.HasNextPage ? "" : "disabled")" 
                    asp-route-pageNumber="@(Model.AdminAccountList.PageNumber + 1)"
                    asp-route-pageSize="@Model.AdminAccountList.PageSize"
                    asp-route-search="@Model.Search">&raquo;</a>
                </li>
            }
        </ul>
    </section>
</div>