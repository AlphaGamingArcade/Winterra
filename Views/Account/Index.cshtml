@using Winterra.Models.ViewModels

<div class="container_wr" id="main-content">
    <section>
        <div class="tbl_hd">
            <h2>@(Model.MenuTitle)</h2>
            <form asp-controller="Account" asp-action="Index" method="get">
                <p>
                    <label>Name: <input class="search_input" type="text" value="@Model.Search" name="search" /></label>
                    <button type="submit" class="btn btn_03">Search</button>
                </p>
            </form>
        </div>
        
        @await Html.PartialAsync("_AccountTablePartial", new AccountTableModel
        {
            MenuIn = Model.MenuIn,
            Items = Model.UserAccountList.Items
        })
        
        <ul class="pg_btn_list">
            @if(Model.UserAccountList != null){
                <li class="pg_item">
                    <a class="pg_lnk @(Model.UserAccountList.HasPreviousPage ? "" : "disabled")" 
                    asp-route-pageNumber="@(Model.UserAccountList.PageNumber - 1)"
                    asp-route-search="@Model.Search"
                    asp-route-pageSize="@Model.UserAccountList.PageSize">&laquo;</a>
                </li>
                @foreach (var pg in Model.UserAccountList.Pages)
                {
                    <li class="pg_item">
                        <a class="pg_lnk @(Model.UserAccountList.PageNumber == pg ? "active" : "")"
                        asp-route-pageNumber="@pg"
                        asp-route-search="@Model.Search"
                        asp-route-pageSize="@Model.UserAccountList.PageSize">@pg</a>
                    </li>
                }
                <li class="pg_item">
                    <a class="pg_lnk @(Model.UserAccountList.HasNextPage ? "" : "disabled")" 
                    asp-route-pageNumber="@(Model.UserAccountList.PageNumber + 1)"
                    asp-route-search="@Model.Search"
                    asp-route-pageSize="@Model.UserAccountList.PageSize">&raquo;</a>
                </li>
            }
        </ul>
    </section>
</div>